<!doctype html>
<html lang="zh" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta name="keywords" content="亿栖云">

<meta name="generator" content="Hugo 0.101.0" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="icon" href="http://yiqiyun.sd.cegn.cn/static/assets/images/favicon.ico?v=1632342842" type="image/x-icon">

<title>Virtual NAS | 亿栖云文档</title>

<link href="/css/bulma.css" rel="stylesheet">
<link href="/css/autocomplete.css" rel="stylesheet" />
<link href="/css/copy-to-clipboard.css" rel="stylesheet" />


    



<link rel="preload" href="/scss/console.min.3968935d0a1c8815d0609e047c8c7bddc7781a37538ed1b0cc049f82a7c994c1.css" as="style">
<link href="/scss/console.min.3968935d0a1c8815d0609e047c8c7bddc7781a37538ed1b0cc049f82a7c994c1.css" rel="stylesheet" integrity="">


<script
  src="/js/jquery-2.2.4.js?v=1510299508"
  ></script>
	

<script src="/js/common.js?v=1.3"></script>

  </head>
  <body class="td-page">
    <header>
      <div class="nav-wrapper ">
  <nav class="navbar navmenu"  style="display:none;" >
    <div class="container with-no-position doc-container-width ">
      <div class="navbar-brand" id="search-mobile-logo">
        <a class="navbar-item logo" href="http://www.yiqiyun.net.cn">
          <img src="/images/yiqiyun_logo.png" alt="logo" style="height: 32px;width: 120px;">
        </a>
      </div>
      <div class="media-content column is-centered is-5 search-mobile">
        <form action="/search" method="GET">
          <div class="control has-icons-right docs-search-input">
            <input class="input" id="search-bar" name="q" type="search" placeholder="搜索" autocomplete="off">
            <span class="icon is-right" id="mobile-search">
              <img src="/images/icons/search.svg">
            </span>
          </div>
        </form>
        <a href="javascript:;" class="search-mobile-icon"><img src="/images/icons/search.svg"></a>
      </div>
      <div class="navbar-end is-hidden-mobile header-account">
        <div class="navbar-item">
          <div class="field is-grouped">
            <p class="control navbar-user">
              <a class="nav-item" href="http://www.yiqiyun.cn">服务商门户</a>
            </p>
            <p class="control navbar-user">
              <a class="nav-item" href="http://console.yiqiyun.cn/login">登录</a>
            </p>
            <div class="navbar-user">
              <a class="button is-primary j-signup" href="http://console.yiqiyun.cn/signup/" data-gio="{id:'createPageView',var:{sourceType_var:'导航栏'}}" style="background-color: #55a8fd">注册</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>
  
  <nav class="navbar navmenu navbar-index">
    <div class="container is-size-7 doc-container-width " data-path="1">


	
	
		

  
  

  
  

  
  

  


	
	




  


	
	
	<a href="/storage/vnas/" class="has-text-primary">文件存储</a><img class="container_span_space" src="/images/icons/path.svg">
	




  


	
	
	<a href="" class="has-text-primary">操作指南</a><img class="container_span_space" src="/images/icons/path.svg">
	




  



	
	<span class="crumb-last-color">Virtual NAS</span>
	



	

</div>


  </nav>
  
</div>
    </header>
    <div class="container td-outer doc-container-width container-min-height">
      <div class="td-main">
		
			<h1 class="console-tree-title">操作指南</h1>
		
        <div class="row flex-xl-nowrap">
		  
          <div class="col-12 col-md-3 col-xl-3 td-sidebar d-print-none td-sidebar-menu">
            





<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <nav class="collapse td-sidebar-nav pt-2" id="td-section-nav">
    <div class="nav-item dropdown d-block ">
      
      
      













<span class="menu__title--collapse  display-hide"
  data-depth="0">
  对象存储
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/object-storage/ data-link=/storage/vnas/manual/vnas/>
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  动态与公告
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/news/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/news/history/"
      class="menu__title  "
      data-depth="1">产品动态</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  产品简介
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/intro/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/intro/object-storage/"
      class="menu__title  "
      data-depth="1">对象存储</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/intro/function_list/"
      class="menu__title  "
      data-depth="1">功能概览</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  计费指南
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/billing/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/billing/price/"
      class="menu__title  "
      data-depth="1">消费说明</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse active "
  data-depth="1">
  操作指南
  <span
    class="menu__title--icon down">

  </span>
</span>
<ul class="menu__list active"
  data-data=/manual/ data-link=/storage/vnas/manual/vnas/>
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  Console
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/console/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/overview/"
      class="menu__title  "
      data-depth="2">概述</a>
  </li>
  
  
  
  













<span class="menu__title--collapse  "
  data-depth="3">
  Bucket 管理
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/bucket_manage/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/bucket_manage/basic_opt/"
      class="menu__title  "
      data-depth="3">基础操作</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/bucket_manage/access_control/"
      class="menu__title  "
      data-depth="3">访问控制</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/bucket_manage/monitor/"
      class="menu__title  "
      data-depth="3">监控与报表</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/bucket_manage/logging/"
      class="menu__title  "
      data-depth="3">日志归档</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/bucket_manage/lifecycle/"
      class="menu__title  "
      data-depth="3">生命周期管理</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/bucket_manage/replication/"
      class="menu__title  "
      data-depth="3">跨区域复制</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="3">
  Object 管理
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/object_manage/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/object_manage/basic_opt/"
      class="menu__title  "
      data-depth="3">基础操作</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/object_manage/change_level/"
      class="menu__title  "
      data-depth="3">变更存储级别</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/object_manage/modify_meta/"
      class="menu__title  "
      data-depth="3">修改元数据</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="3">
  数据处理
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/data_process/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/console/data_process/image_process/"
      class="menu__title  "
      data-depth="3">图片处理</a>
  </li>
  
  
</ul>


  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  客户端工具
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/tool/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/tool/qsctl/"
      class="menu__title  "
      data-depth="2">qsctl</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/tool/qscamel/"
      class="menu__title  "
      data-depth="2">qscamel</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/tool/qsftpd/"
      class="menu__title  "
      data-depth="2">qsftpd</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/tool/mountain-duck/"
      class="menu__title  "
      data-depth="2">Mountain Duck</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  第三方数据集成
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/third_party_integration/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/third_party_integration/logstash_input/"
      class="menu__title  "
      data-depth="2">Logstash Input QingStor</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/third_party_integration/logstash_output/"
      class="menu__title  "
      data-depth="2">Logstash Output QingStor</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/manual/third_party_integration/wordpress_plugin_for_qingstor/"
      class="menu__title  "
      data-depth="2">WordPress QingStor </a>
  </li>
  
  
</ul>


  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  最佳实践
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/beat-practices/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/beat-practices/migrate/"
      class="menu__title  "
      data-depth="1">数据迁移方案</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/beat-practices/backup/"
      class="menu__title  "
      data-depth="1">实时增量数据备份解决方案</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/beat-practices/app_integration/"
      class="menu__title  "
      data-depth="1">移动 App 接入方案</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/beat-practices/linux_uses_object_storage_as_a_local_disk/"
      class="menu__title  "
      data-depth="1">Linux 使用对象存储作为本地盘</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/beat-practices/web_hosting/"
      class="menu__title  "
      data-depth="1">静态网站托管方案</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/beat-practices/policy/"
      class="menu__title  "
      data-depth="1">Bucket Policy 白名单和黑名单使用实例</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  API 参考
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/api/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/overview/"
      class="menu__title  "
      data-depth="1">概述</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/common_header/"
      class="menu__title  "
      data-depth="1">公共字段</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/metadata/"
      class="menu__title  "
      data-depth="1">对象元数据</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/error_code/"
      class="menu__title  "
      data-depth="1">错误信息</a>
  </li>
  
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  Bucket API
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/bucket/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/policy/"
      class="menu__title  "
      data-depth="2">Bucket 策略（Policy）</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/basic_opt/"
      class="menu__title  "
      data-depth="2">基础操作</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/repliation/"
      class="menu__title  "
      data-depth="2">跨区域复制（Replication）</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/cors/"
      class="menu__title  "
      data-depth="2">跨域资源共享（CORS）</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/acl/"
      class="menu__title  "
      data-depth="2">权限控制（ACL）</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/logging/"
      class="menu__title  "
      data-depth="2">日志管理（Logging）</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/lifecycle/"
      class="menu__title  "
      data-depth="2">生命周期（Lifecycle）</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/notification/"
      class="menu__title  "
      data-depth="2">事件通知（Notification）</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/external_mirror/"
      class="menu__title  "
      data-depth="2">外部镜像（External Mirror）</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/bucket/cname/"
      class="menu__title  "
      data-depth="2">自定义域名（CNAME）</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  Object API
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/object/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/object/append/"
      class="menu__title  "
      data-depth="2">Append Object</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/object/multipart/"
      class="menu__title  "
      data-depth="2">Multipart 分段</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/object/post/"
      class="menu__title  "
      data-depth="2">Post Object</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/object/basic_opt/"
      class="menu__title  "
      data-depth="2">基础操作</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/object/encryption/"
      class="menu__title  "
      data-depth="2">数据加密</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/object/image_process/"
      class="menu__title  "
      data-depth="2">图片处理</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  Service API
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/service/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/service/get/"
      class="menu__title  "
      data-depth="2">GET Service</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/service/location/"
      class="menu__title  "
      data-depth="2">List Locations</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  API 使用示例
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/practices/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/practices/access_control/"
      class="menu__title  "
      data-depth="2">访问控制</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/api/practices/signature/"
      class="menu__title  "
      data-depth="2">签名验证</a>
  </li>
  
  
</ul>


  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  常见问题
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/faq/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/faq/object-faq/"
      class="menu__title  "
      data-depth="1">FAQ</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  AWS S3 兼容
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/s3/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/s3/s3_browser/"
      class="menu__title  "
      data-depth="1">安装 S3 Browser</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/s3/compatible_headers/"
      class="menu__title  "
      data-depth="1">兼容公共头</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/s3/compatible_apis/"
      class="menu__title  "
      data-depth="1">兼容接口</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/s3/examples/"
      class="menu__title  "
      data-depth="1">使用示例</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  SDK
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/sdk/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/sdk/python/"
      class="menu__title  "
      data-depth="1">Python SDK</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/sdk/go/"
      class="menu__title  "
      data-depth="1">Go SDK</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/sdk/ruby/"
      class="menu__title  "
      data-depth="1">Ruby SDK</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/sdk/cpp/"
      class="menu__title  "
      data-depth="1">C/C&#43;&#43; SDK</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/sdk/java/"
      class="menu__title  "
      data-depth="1">Java SDK</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/sdk/javascript/"
      class="menu__title  "
      data-depth="1">JavaScript SDK</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/object-storage/sdk/php/"
      class="menu__title  "
      data-depth="1">PHP SDK</a>
  </li>
  
  
</ul>


  
  
</ul>


      
      













<span class="menu__title--collapse  display-hide"
  data-depth="0">
  硬盘
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/disk/ data-link=/storage/vnas/manual/vnas/>
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  动态与公告
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/news/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/disk/news/product_news/"
      class="menu__title  "
      data-depth="1">产品动态</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  产品简介
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/intro/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/disk/intro/introduction/"
      class="menu__title  "
      data-depth="1">硬盘简介</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  计费指南
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/billing/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/disk/billing/price/"
      class="menu__title  "
      data-depth="1">硬盘计费</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  快速入门
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/quickstart/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/disk/quickstart/create_disk/"
      class="menu__title  "
      data-depth="1">步骤1：购买硬盘</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/disk/quickstart/load/"
      class="menu__title  "
      data-depth="1">步骤2：加载硬盘</a>
  </li>
  
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  步骤3：初始化硬盘
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/init/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/disk/quickstart/init/init_start/"
      class="menu__title  "
      data-depth="2">初始化及分区方式</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/disk/quickstart/init/init_linux/"
      class="menu__title  "
      data-depth="2">初始化 Linux 数据盘</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/disk/quickstart/init/init_win/"
      class="menu__title  "
      data-depth="2">初始化 Windows 数据盘</a>
  </li>
  
  
</ul>


  
  
</ul>


  
  
  
  













<span class="menu__title--collapse active "
  data-depth="1">
  操作指南
  <span
    class="menu__title--icon down">

  </span>
</span>
<ul class="menu__list active"
  data-data=/manual/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/disk/manual/basic_operation/"
      class="menu__title  "
      data-depth="1">硬盘基本操作</a>
  </li>
  
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  硬盘扩容
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/expand/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/disk/manual/expand/expan_linux/"
      class="menu__title  "
      data-depth="2">扩容 Linux 数据盘</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/disk/manual/expand/expan_win/"
      class="menu__title  "
      data-depth="2">扩容 Windows 数据盘</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/disk/manual/expand/expan_linux_sys/"
      class="menu__title  "
      data-depth="2">扩容系统盘</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse  "
  data-depth="2">
  配置自动挂载
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/auto_mount/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/disk/manual/auto_mount/linux_auto_mount/"
      class="menu__title  "
      data-depth="2">自动挂载 Linux 硬盘</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/disk/manual/auto_mount/win_auto_mount/"
      class="menu__title  "
      data-depth="2">自动挂载 Windows 硬盘</a>
  </li>
  
  
</ul>


  
  
  
  
  
  
  <li>
    <a href="/storage/disk/manual/create_snapshot/"
      class="menu__title  "
      data-depth="1">备份硬盘</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/disk/manual/unload/"
      class="menu__title  "
      data-depth="1">卸载硬盘</a>
  </li>
  
  
</ul>


  
  
</ul>


      
      













<span class="menu__title--collapse  display-hide"
  data-depth="0">
  共享存储
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/share/ data-link=/storage/vnas/manual/vnas/>
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  产品简介
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/intro/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/share/intro/introduction/"
      class="menu__title  "
      data-depth="1">共享存储</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse active "
  data-depth="1">
  操作指南
  <span
    class="menu__title--icon down">

  </span>
</span>
<ul class="menu__list active"
  data-data=/manual/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/share/manual/neonsan_volume/"
      class="menu__title  "
      data-depth="1">企业级分布式 SAN</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/share/manual/vsan/"
      class="menu__title  "
      data-depth="1">Virtual SAN</a>
  </li>
  
  
</ul>


  
  
</ul>


      
      













<span class="menu__title--collapse  display-hide"
  data-depth="0">
  备份
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list  "
  data-data=/backup/ data-link=/storage/vnas/manual/vnas/>
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  产品简介
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/intro/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/backup/intro/introduction/"
      class="menu__title  "
      data-depth="1">备份概述</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse active "
  data-depth="1">
  操作指南
  <span
    class="menu__title--icon down">

  </span>
</span>
<ul class="menu__list active"
  data-data=/manual/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/backup/manual/create_snapshot/"
      class="menu__title  "
      data-depth="1">创建备份</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/backup/manual/delete_snapshot/"
      class="menu__title  "
      data-depth="1">删除备份</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/backup/manual/rollback_snapshot/"
      class="menu__title  "
      data-depth="1">备份回滚</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/backup/manual/bak_create_mirror/"
      class="menu__title  "
      data-depth="1">基于备份制作镜像</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/backup/manual/bak_create_disk/"
      class="menu__title  "
      data-depth="1">基于备份创建硬盘</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/backup/manual/backup/"
      class="menu__title  "
      data-depth="1">其他备份相关操作</a>
  </li>
  
  
</ul>


  
  
</ul>


      
      













<span class="menu__title--collapse active display-hide"
  data-depth="0">
  文件存储
  <span
    class="menu__title--icon down">

  </span>
</span>
<ul class="menu__list active"
  data-data=/vnas/ data-link=/storage/vnas/manual/vnas/>
  
  
  













<span class="menu__title--collapse  "
  data-depth="1">
  产品简介
  <span
    class="menu__title--icon right">

  </span>
</span>
<ul class="menu__list "
  data-data=/intro/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/vnas/intro/introduction/"
      class="menu__title  "
      data-depth="1">Virtual NAS</a>
  </li>
  
  
</ul>


  
  
  
  













<span class="menu__title--collapse active "
  data-depth="1">
  操作指南
  <span
    class="menu__title--icon down">

  </span>
</span>
<ul class="menu__list active"
  data-data=/manual/ data-link=/storage/vnas/manual/vnas/>
  
  
  
  
  
  <li>
    <a href="/storage/vnas/manual/vnas_expansion/"
      class="menu__title  "
      data-depth="1">Virtual NAS 云硬盘扩容</a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/storage/vnas/manual/vnas/"
      class="menu__title active "
      data-depth="1">Virtual NAS</a>
  </li>
  
  
</ul>


  
  
</ul>


      
    </div>
  </nav>
</div>


<script src="/js/sidebar-tree.js"></script>


          </div>
          <div class="d-none col-md-2 d-xl-block d-md-block col-xl-2 td-toc d-print-none">
            


<h3 class="nav-title">本页目录</h3>


<nav id="TableOfContents">
  <ul>
    <li><a href="#创建-virtual-nas-服务器">创建 Virtual NAS 服务器</a></li>
    <li><a href="#创建共享存储目标">创建共享存储目标</a>
      <ul>
        <li><a href="#nfs-类型的共享存储目标">NFS 类型的共享存储目标</a></li>
        <li><a href="#samba-类型的共享存储目标">Samba 类型的共享存储目标</a></li>
      </ul>
    </li>
    <li><a href="#创建账户">创建账户</a>
      <ul>
        <li><a href="#nfs-类型的账户">NFS 类型的账户</a></li>
        <li><a href="#smb-类型的账户">SMB 类型的账户</a></li>
      </ul>
    </li>
    <li><a href="#创建权限组">创建权限组</a>
      <ul>
        <li><a href="#nfs-类型的权限组">NFS 类型的权限组</a></li>
        <li><a href="#smb-类型的权限组">SMB 类型的权限组</a></li>
      </ul>
    </li>
    <li><a href="#virtual-nas-服务器扩容">Virtual NAS 服务器扩容</a></li>
    <li><a href="#linux-客户端配置及访问">Linux 客户端配置及访问</a>
      <ul>
        <li><a href="#安装客户端软件">安装客户端软件</a></li>
        <li><a href="#客户端连接共享存储目标">客户端连接共享存储目标</a></li>
      </ul>
    </li>
    <li><a href="#windows-客户端配置及访问">Windows 客户端配置及访问</a>
      <ul>
        <li><a href="#客户端连接共享存储目标-1">客户端连接共享存储目标</a></li>
        <li><a href="#客户端断开共享存储目标">客户端断开共享存储目标</a></li>
      </ul>
    </li>
    <li><a href="#公网访问-virtual-nas-服务">公网访问 Virtual NAS 服务</a></li>
    <li><a href="#virtual-nas的性能">Virtual NAS的性能</a>
      <ul>
        <li><a href="#性能型硬盘单客户端测试">性能型硬盘，单客户端测试</a></li>
        <li><a href="#性能型硬盘多客户端测试">性能型硬盘，多客户端测试</a></li>
        <li><a href="#容量型硬盘单客户端测试">容量型硬盘，单客户端测试</a></li>
        <li><a href="#容量型硬盘多客户端测试">容量型硬盘，多客户端测试</a></li>
      </ul>
    </li>
  </ul>
</nav>




          </div>
          <main class="col-12 col-md-7 col-xl-7" role="main">
            
  

            
            
            
<div class="td-content">
	<div class="td-sidebar-section-title content-index">
		<img class="is-40x40" src="/images/icons/book-open.svg">
		<h3 class="doc_vice_title">操作指南</h3>
		<a href="javascript:;" class="nav-trigger">&nbsp;<span aria-hidden="true"></span></a>
	</div>
	<div class="td-page-top">
		<h1>Virtual NAS</h1>
		






<div class="td-page-meta page-meta-actions ml-2 pb-1 mb-0">







</div>



	</div>
	<div class="page-meta-lastmod text-muted ">
	更新时间 2020-01-30

</div>

	<input type="hidden" id="content_console" value="1">
	
	
	<div class="lead"></div>
	

	
	<p>亿栖云为您提供的 NAS 服务是基于标准的 NFS 和 Samba（CIFS）网络协议实现的数据传输，通过创建一个 NAS 服务器，您可以在多个云服务器客户端以及不同的操作系统间进行数据共享。同时提供权限组和账号配置功能，便于您对云服务器客户端进行访问控制和管理配置。</p>
<blockquote>
<p>在 NAS 服务器上加载硬盘，通过创建共享存储目标与其进行绑定，即可将数据开放给云服务器客户端。一块硬盘只能和一个共享存储目标绑定；如果硬盘上存在多个分区，则无法和共享存储目标进行绑定；建议您使用空白硬盘，在 Virtual NAS 服务器上进行数据文件的共享。</p>
</blockquote>
<p>本指南旨在介绍如何配置 Virtual NAS 服务器和共享存储目标，配置云服务器客户端的访问控制，以及设置客户端访问 Virtual NAS 服务。</p>
<h2 id="创建-virtual-nas-服务器">创建 Virtual NAS 服务器</h2>
<p>在本例中，我们会创建一台 Virtual NAS 服务器。</p>
<p>在控制台导航中点击 <strong>产品与服务</strong> &gt; <strong>存储服务</strong> &gt; <strong>文件存储</strong> 进入列表页面，然后点击『创建』按钮开始创建。</p>
<p>在创建的对话框中，你可以给 NAS 服务器命名，选择服务器类型和配置，并且配置它的网络。你需要将 NAS 服务器放入一个受管私有网络中，并且可以指定 NAS 服务器在私有网络中的 IP。</p>
<p>服务提供两种云服务器类型：性能型和超高性能型：</p>
<ul>
<li>
<p>性能型VNAS服务使用的云服务器类型为基础型的云服务器，是面向个人或中小团队用户推出的入门型文件存储服务，为客户提供基于标准的 NFS 和 Samba（CIFS）网络协议访问的文件存储服务。性能型VNAS服务可以使用基础型硬盘，容量型硬盘和企业级分布式SAN硬盘（NeonSAN）。</p>
</li>
<li>
<p>超高性能型VNAS服务使用的云服务器类型为企业型的云服务器，是面向性能要求更高的的企业级客户提供的文件存储服务，可以提供更高的数据处理能力，提供标准的 NFS 和 Samba（CIFS）网络协议访问。超高性能型VNAS服务可以使用SSD企业型硬盘，容量型硬盘和企业级分布式SAN硬盘（NeonSAN）。</p>
</li>
</ul>
<blockquote>
<p>需要确保所选私有网络的 DHCP 处于<strong>打开</strong>状态。</p>
</blockquote>
<p><img src="/storage/vnas/manual/_images/create_nas.png" alt=""></p>
<blockquote>
<p>对 NAS 服务器进行关机，或删除操作时，务必在客户端停止对共享存储目标的访问，并执行 umount 操作。</p>
</blockquote>
<h2 id="创建共享存储目标">创建共享存储目标</h2>
<p>接下来我们要为刚刚创建好的 NAS 服务器添加共享存储目标，目前亿栖云支持基于 NFS 和 Samba（CIFS）两种协议的共享存储目标。</p>
<p>在控制台导航中点击 <strong>产品与服务</strong> &gt; <strong>存储服务</strong> &gt; <strong>文件存储</strong> 进入列表页面，然后点击之前我们创建的NAS服务器。 进入到 NAS 服务器详细信息后，点击共享存储目标列表下的 <strong>创建</strong> 按钮。</p>
<p><strong>第一步：创建共享存储目标</strong></p>
<p>在创建对话框中，你可以给共享存储目标定义名称，选择协议类型（NFS 或者 SMB），输入共享存储目录的名称，选择你要加载的硬盘，并为共享存储目标指定权限组。</p>
<blockquote>
<p>选择加载的硬盘不能有多个分区，建议用户使用空白硬盘加载（仅支持基础型、容量型和企业级分布式硬盘），已有文件系统硬盘仅支持 Ext4，NTFS，XFS。</p>
</blockquote>
<h3 id="nfs-类型的共享存储目标">NFS 类型的共享存储目标</h3>
<blockquote>
<p>NFS 协议的共享目录需要填写文件目录的名称，统一以&quot;/mnt/&ldquo;开头，如&rdquo;/mnt/shared_dir&quot;</p>
</blockquote>
<p><img src="/storage/vnas/manual/_images/create_nas_shared_target_nfs.png" alt=""></p>
<h3 id="samba-类型的共享存储目标">Samba 类型的共享存储目标</h3>
<blockquote>
<p>Samba 协议的共享目录需要填写目录名称，如&quot;shared_dir&quot;</p>
</blockquote>
<p><img src="/storage/vnas/manual/_images/create_nas_shared_target_samba.png" alt=""></p>
<blockquote>
<p>当需要对共享存储目标进行硬盘修改时，务必在客户端停止对共享目标的访问，并执行 umount 操作。</p>
</blockquote>
<p><strong>第二步：应用修改</strong></p>
<p>在完成共享存储目标的创建之后，你需要点击 <strong>应用修改</strong> 按钮，使得我们创建的共享存储目标应用到共享存储服务器上。</p>
<blockquote>
<p>应用修改后，NAS 服务器会检查硬盘是否可用，多个分区和无法识别的文件系统都会导致更新失败。失败的原因会在共享存储目标硬盘栏进行提示。</p>
</blockquote>
<p><img src="/storage/vnas/manual/_images/shared_targets.png" alt=""></p>
<p>经过以上步骤后，NAS 共享存储服务端就完成了，可以正常提供服务。</p>
<h2 id="创建账户">创建账户</h2>
<p>在控制台导航中点击 <strong>产品与服务</strong> &gt; <strong>存储服务</strong> &gt; <strong>文件存储</strong> 进入列表页面，选择 <strong>账户</strong> 进入账户配置页面。 账户用来配置云服务器客户端的信息，实现对云服务器的访问控制和管理配置。</p>
<p>在创建的对话框中，定义账户的名称，选择账户的类型，对 NFS 和 Samba 我们提供不同的配置选项。</p>
<h3 id="nfs-类型的账户">NFS 类型的账户</h3>
<p>通过 IP 进行访问控制的（仅支持云服务器 IP 和网段 IP，0.0.0.0代表所有IP地址） 同时 NFS 提供了高级选项，分别针对权限限制和数据读写同步。</p>
<p><strong>用户权限控制：</strong></p>
<ul>
<li>不限制 root 用户权限（no_root_squash）</li>
<li>限制 root 用户权限（root_squash ）</li>
<li>限制所有用户权限（all_squash）</li>
</ul>
<p><strong>数据同步类型：</strong></p>
<ul>
<li>同步写入内存和硬盘（sync）</li>
<li>先写入内存，后写入硬盘（async）</li>
</ul>
<p><img src="/storage/vnas/manual/_images/create_account_nfs.png" alt=""></p>
<h3 id="smb-类型的账户">SMB 类型的账户</h3>
<p>通过配置的用户名和密码进行访问控制。</p>
<p><img src="/storage/vnas/manual/_images/create_account_smb.png" alt=""></p>
<blockquote>
<p>用户可以在创建账号时，选择要加入的权限组，通过权限组将客户端信息同步到想访问的共享存储目标中，完成访问控制的配置。</p>
</blockquote>
<h2 id="创建权限组">创建权限组</h2>
<p>在控制台导航中点击 <strong>产品与服务</strong> &gt; <strong>存储服务</strong> &gt; <strong>文件存储</strong> 进入列表页面，选择 <strong>权限组</strong> 进入权限组配置页面。 在创建权限组对话框中，定义权限组名称，并选择权限组的类型。</p>
<h3 id="nfs-类型的权限组">NFS 类型的权限组</h3>
<p><img src="/storage/vnas/manual/_images/create_nfs_group.png" alt=""></p>
<h3 id="smb-类型的权限组">SMB 类型的权限组</h3>
<p><img src="/storage/vnas/manual/_images/create_samba_group.png" alt=""></p>
<blockquote>
<p>权限组只能和同类型的账户、共享存储目标进行关联。一个权限组可以关联多个共享存储目标，但是一个共享存储目标只能有一个权限组。</p>
<p>进入权限组的详情页面，可看到权限组所绑定的账号，可以在权限组中创建、解绑同类型账号，并修改账号在权限中的读写权限。</p>
</blockquote>
<blockquote>
<p>账户是全局的，可以绑定到多个权限组。</p>
</blockquote>
<h2 id="virtual-nas-服务器扩容">Virtual NAS 服务器扩容</h2>
<p>可以根据您对 NAS 服务器的业务需求，选择对 NAS 服务器进行扩容，以切合您实际的业务需求。</p>
<p>对 NAS 服务器扩容需要先关闭服务器，然后点击右键，选择 <strong>更改配置</strong>，选择你需要的服务器类型，点击确定，然后启动服务器即可。</p>
<blockquote>
<p>当关闭服务器进行扩容时，务必在客户端停止对共享目标的访问，并执行 umount 操作。</p>
</blockquote>
<p><img src="/storage/vnas/manual/_images/resize_nas.png" alt=""></p>
<h2 id="linux-客户端配置及访问">Linux 客户端配置及访问</h2>
<p>下面我们讲述如何在 Linux 和 Windows 两种操作系统上配置 NFS 和 Samba 客户端来访问 NAS 服务器。</p>
<h3 id="安装客户端软件">安装客户端软件</h3>
<p><strong>NFS 客户端配置</strong></p>
<pre tabindex="0"><code>Redhat/Centos: yum install -y nfs-utils
Debian/Ubuntu: apt-get install nfs-common
</code></pre><p><strong>Samba 客户端配置</strong></p>
<pre tabindex="0"><code>Redhat/Centos: yum install -y samba-client
Debian/Ubuntu: apt-get install samba-client
Redhat/Centos: yum install -y cifs-utils
Debian/Ubuntu: apt-get install cifs-utils
</code></pre><h3 id="客户端连接共享存储目标">客户端连接共享存储目标</h3>
<p>通过 mount 操作将共享存储目标绑定到云服务器客户端的指定目录上，就可访问 NAS 服务的共享数据。</p>
<blockquote>
<p>通过客户端访问 NAS 服务器，需要在 NAS 服务器上配置好账户和权限组，并绑定到对应的共享存储目标上。</p>
</blockquote>
<p><strong>访问 NFS 类型共享存储目标</strong></p>
<p>比如，NAS 服务器地址是 192.168.100.2，共享目录是 /mnt/nas_nfs，客户端目录是 /mnt/nasdata，在云服务器客户端执行：</p>
<pre tabindex="0"><code>mkdir /mnt/nasdata
mount -t nfs 192.168.100.2:/mnt/nas /mnt/nasdata
</code></pre><p><strong>访问 Samba 类型共享存储目标</strong></p>
<p>比如，NAS 服务器地址是 192.168.100.2，共享目录是 nas_smb，客户端目录是 /mnt/nasdata，客户端账户的账户名是 smbtest， 密码是 test123，在云服务器客户端执行：</p>
<pre tabindex="0"><code>mkdir /mnt/nasdata
mount -t cifs -o username=smbtest,password=test123 //192.168.100.2/nas_smb /mnt/nasdata
</code></pre><blockquote>
<p>如果要关闭或终止 NAS 服务，以及修改共享存储目标硬盘，需要在客户端停止对共享存储目标的访问，并执行 umount 操作。</p>
</blockquote>
<p><strong>客户端断开共享存储目标</strong></p>
<pre tabindex="0"><code>umount /mnt/nasdata
</code></pre><h2 id="windows-客户端配置及访问">Windows 客户端配置及访问</h2>
<h3 id="客户端连接共享存储目标-1">客户端连接共享存储目标</h3>
<p><strong>访问 Samba 共享存储目标</strong></p>
<p><strong>1、安装Samba客户端</strong></p>
<p>Win+R 打开“运行”，输入 control，“确定”以打开“控制面板”：</p>
<p><img src="../_images/winr.png" alt=""></p>
<p>进入 程序→程序和功能，点击“启用或关闭Windows功能”。</p>
<p>或者直接点击左下角的服务器管理器</p>
<p><img src="../_images/open.png" alt=""></p>
<p>在服务器管理器中点击添加角色和功能</p>
<p><img src="../_images/add.png" alt=""></p>
<p>点击下一步到功能，勾选中SMB 1.0/CIFS File Sharing Suppor</p>
<p><img src="../_images/next.png" alt=""></p>
<p>下一步，确认安装并重启服务器。</p>
<p><strong>2、修改本地组策略</strong></p>
<p>重启后再次 Win+R 打开“运行”，输入 gpedit.msc，“确定”以打开“本地组策略编辑器”。</p>
<p>或者直接在搜索框中，输入 gpedit.msc，“确定”以打开“本地组策略编辑器”。</p>
<p><img src="../_images/gredit.png" alt=""></p>
<p>按 计算机配置→管理模板→网络 的顺序，依次展开左侧目录树。</p>
<p>点击“Lanman工作站”，右侧会显示该项目的详细设置。</p>
<blockquote>
<p>未找到Lanman工作站，可忽略该步骤</p>
</blockquote>
<p>点击里面的“启用不安全的来宾登录”，将它由“未配置”改为“已启用”，应用并重启电脑。</p>
<p><img src="../_images/final.png" alt=""></p>
<p><strong>3、访问Samba共享目录</strong></p>
<p><img src="../_images/share1.png" alt=""></p>
<p>输入对应的samba服务器地址</p>
<p><img src="../_images/share2.png" alt=""></p>
<p>输入前面设置的账号和密码</p>
<p><img src="../_images/share3.png" alt=""></p>
<p>此时就可以看见Samba成功映射到了Win系统中</p>
<p><img src="../_images/share4.png" alt=""></p>
<p><strong>访问 NFS 共享存储目标</strong></p>
<p>仅 Windows 7 的旗舰版和企业版支持自带NFS客户端。比如，NAS 服务器地址是 192.168.100.2，共享目录是 /mnt/nas_nfs，客户端目录是 F 盘，操作如下：</p>
<ul>
<li>依次单击 <strong>开始</strong> &gt; <strong>控制面板</strong> &gt; <strong>程序和功能</strong> &gt; <strong>打开和关闭 Windows 功能</strong> &gt; <strong>NFS客户端</strong>，勾选 NFS 客户端，即开启 Windows NFS 客户端服务。</li>
<li>单击 <strong>开始</strong> 在运行选框中输入 cmd 命令，在 cmd 的端口中输入如下命令：</li>
</ul>
<pre tabindex="0"><code>mount 192.168.100.2:/mnt/nas_nfs F:
</code></pre><blockquote>
<p>Windows 客户端建议使用 Samba 服务。</p>
</blockquote>
<h3 id="客户端断开共享存储目标">客户端断开共享存储目标</h3>
<p><strong>断开 Samba 共享存储目标</strong></p>
<ul>
<li><strong>我的电脑</strong> &gt; <strong>设备和驱动器</strong> 选择需要断开的网络驱动即可。</li>
</ul>
<p><strong>断开 NFS 共享存储目标</strong></p>
<ul>
<li>单击 <strong>开始</strong> 在运行选框中输入 cmd 命令，在 cmd 的端口中输入如下命令：</li>
</ul>
<pre tabindex="0"><code>umount F:
</code></pre><h2 id="公网访问-virtual-nas-服务">公网访问 Virtual NAS 服务</h2>
<p>由于通过公网访问 NAS 的 IO 延迟比较大，通常情况下不建议以这种方式访问。 如果你有一些特殊的场景需要公网访问，除了按照前面的指南操作之外， 还需要在防火墙打开对应的服务端口，并在路由器端口转发中设置端口的对应关系。</p>
<ul>
<li>NFS 服务需要支持的端口为，2049（TCP/UDP），111（TCP/UDP），30001（TCP/UDP）。</li>
<li>Samba 不能通过外网访问 Samba 协议提供的共享存储服务。</li>
</ul>
<h2 id="virtual-nas的性能">Virtual NAS的性能</h2>
<p>NFS和Samba（CIFS）网络共享存储的IO性能对当前网络状况有很大的依赖性，即使NAS服务器和客户端同在一个私有网络内部，可能因弹性裸金属服务器所处 网络区域的不同，在IO性能上会有不同的表现：</p>
<h3 id="性能型硬盘单客户端测试">性能型硬盘，单客户端测试</h3>
<pre tabindex="0"><code>dd bs=64k count=40k if=/dev/zero of=testdata conv=fdatasync
2684354560 bytes (2.7 GB) copied, 24.8957 s, 108 MB/s
</code></pre><h3 id="性能型硬盘多客户端测试">性能型硬盘，多客户端测试</h3>
<pre tabindex="0"><code>dd bs=64k count=40k if=/dev/zero of=testdata conv=fdatasync
2684354560 bytes (2.7 GB) copied, 43.0581 s, 62.3 MB/s
2684354560 bytes (2.7 GB) copied, 42.7729 s, 62.8 MB/s
2684354560 bytes (2.7 GB) copied, 42.9182 s, 62.5 MB/s
</code></pre><h3 id="容量型硬盘单客户端测试">容量型硬盘，单客户端测试</h3>
<pre tabindex="0"><code>dd bs=64k count=40k if=/dev/zero of=testdata conv=fdatasync
2684354560 bytes (2.7 GB) copied, 80.7506 s, 33.2 MB/s
</code></pre><h3 id="容量型硬盘多客户端测试">容量型硬盘，多客户端测试</h3>
<pre tabindex="0"><code>dd bs=64k count=40k if=/dev/zero of=testdata conv=fdatasync
2684354560 bytes (2.7 GB) copied, 217.539 s, 12.3 MB/s
2684354560 bytes (2.7 GB) copied, 180.095 s, 14.9 MB/s
2684354560 bytes (2.7 GB) copied, 192.331 s, 14.0 MB/s
</code></pre><blockquote>
<p>由于网络状况和客户端处理能力都会影响到NAS的IO性能，不同客户端的测试结果会有差异，对于IO性能和稳定性要求较高的业务，可先评估客户端的IO性能是否能满足需要。</p>
</blockquote>

	
	
	<div class="page-meta-pagination border-top">
		
		<a href="/storage/vnas/manual/vnas_expansion/" class="prev pl1" title="Virtual NAS 云硬盘扩容 ">
			上一页: Virtual NAS 云硬盘扩容
		</a>
		

		
	</div>
	<div class="page-meta-pagination_word">
		这篇文档解决了您的问题吗？
		<div class="doc_fix_click fix-background-like" data-flag='1'>
			<span>0</span>
		</div>
		<div class="doc_fix_click fix-background-unlike" data-flag='0'>
			<span>0</span>
		</div>
		<input type="hidden" id="doc_fix_flag" value="0">
	</div>
</div>
<script src="/js/content.js"></script>
<script src="/js/viewer.min.js"></script>
<link rel="stylesheet" href="/css/viewer.min.css">
<script>
	var viewer = new Viewer(document.querySelector('.td-content'), {
		url: 'src'
	})
</script>

          </main>
        </div>
      </div>
    </div>
         
    
<script src="/css/bootstrap.min.js"></script>
<script src="/js/autocomplete/jquery.autocomplete.js"></script>
<script src="/js/navbar.js"></script>
<script src="/js/copy-to-clipboard.js"></script>
</script>






<script src="/js/main.min.7d5b92c4889cf0554b0ea5e2309b0b81b196aa7c9a235632938a25d9fc4d8a7c.js" integrity="sha256-fVuSxIic8FVLDqXiMJsLgbGWqnyaI1Yyk4ol2fxNinw=" crossorigin="anonymous"></script>



  </body>
</html>